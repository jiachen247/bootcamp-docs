# 8.2.1: Create React App Full Stack Setup

We will now setup the previous ecommerce full-stack React app in the new Create React App architecture. 

![](../../.gitbook/assets/cra-arch-2.jpg)

As described before, we will be using 2 completely different repositories to hold the front-end and the back-end of the app.

## Back-End

The example back-end repo is here: [https://github.com/rocketacademy/cra-ecom-back-end-swe1](https://github.com/rocketacademy/cra-ecom-back-end-swe1)

Note that this is the same exact repo as this: [https://github.com/rocketacademy/base-mvc-swe1](https://github.com/rocketacademy/base-mvc-swe1) from the end of module 4.

Run the backend app:

```text
git clone https://github.com/rocketacademy/cra-ecom-back-end-swe1.git
cd cra-ecom-back-end-swe1
npm install
npx sequelize db:create
npx sequelize db:migrate
npx sequelize db:seed:all
node index.mjs
```

Test the app by visiting the route for items: [http://localhost:3004/items](http://localhost:3004/items)

## Front-End

The example front end repo is here: [https://github.com/rocketacademy/cra-ecom-front-end-swe1](https://github.com/rocketacademy/cra-ecom-front-end-swe1)  


Clone and run the front-end app:

```text
git clone https://github.com/rocketacademy/cra-ecom-front-end-swe1.git
cd cra-ecom-front-end-swe1
npm start
```

## CORS

Besides splitting the code of the app into two repos there is only one other major change in how this code works. The [Express.js CORS middleware](https://expressjs.com/en/resources/middleware/cors.html) has been added as a dependency. We use it as middleware in `index.mjs`.  
  
[https://github.com/rocketacademy/cra-ecom-back-end-swe1/blob/main/index.mjs\#L10](https://github.com/rocketacademy/cra-ecom-back-end-swe1/blob/main/index.mjs#L10)

CORS is a security feature of modern browsers that disallows AJAX requests to a domain that is different from the originating domain.

In our case our requests are originating from localhost:3000 - we want to be able to request data from our back-end server that is running at localhost:3004.

By default Chrome disallows JavaScript from creating these kinds of requests because it is considered a security risk. A malicious attacker could run JavaScript on the page that tries to get some other worse script from another domain controlled by the attacker.

See a more comprehensive security breakdown of CORS at the following links:  
  
[https://portswigger.net/web-security/cors](https://portswigger.net/web-security/cors)  
  
[https://www.moesif.com/blog/technical/cors/Authoritative-Guide-to-CORS-Cross-Origin-Resource-Sharing-for-REST-APIs/](https://www.moesif.com/blog/technical/cors/Authoritative-Guide-to-CORS-Cross-Origin-Resource-Sharing-for-REST-APIs/)  
  
[https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\#preflighted\_requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests)

## Exercise

Follow the above instructions to get the app working.



