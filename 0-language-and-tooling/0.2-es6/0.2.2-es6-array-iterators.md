# 0.2.2: ES6 Array Iterators

## Introduction

1. ES6 provides more concise syntax than for loops to perform common functions on arrays. This module shares a few, and [here](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array) is a more comprehensive list.
2. Each of the following syntaxes uses callback functions, but note that these are **synchronous** callback functions, i.e. they happen immediately before the next line of code executes.
3. Note that some of these functions return no value, some functions affect the array itself, some return an array and some return a single value. Always check documentation via google when unsure.

## No Return Value

### \`\`[`forEach`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach)\`\`

More concise version of a for loop over an array.

```javascript
const arr = ['a', 'b', 'c'];

arr.forEach((element) => console.log(element));

// Expected output:
// "a"
// "b"
// "c"
```

## No Return Value, Modifies Original Array

### \`\`[`sort`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)\`\`

Sort array values lexicographically \(i.e. dictionary order\).

```javascript
const arr = [1, 30, 4, 21, 100000];
arr.sort();
console.log(arr);

// Expected output:
// Array [1, 100000, 21, 30, 4]
```

To sort an array non-lexicographically, we need to provide a custom "compare function" to the `sort` method. Read more on the compare function [here](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort).

For example, the following code sorts an array of cards by card rank.

```javascript
const cards = [
  {
    name: '3',
    suit: 'diamonds',
    rank: 3,
  },
  {
    name: '2',
    suit: 'diamonds',
    rank: 2,
  },
];

cards.sort((cardA, cardB) => {
  // -1 if left param is less than right param
  if (cardA.rank < cardB.rank) {
    return -1;
  }

  // 1 if left param is more than right param
  if (cardA.rank > cardB.rank) {
    return 1;
  }

  // equal
  return 0;
});

console.log(cards);
```

## Has Return Value, Does Not Modify Original Array

### \`\`[`filter`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)\`\`

Get a new array of elements that passes a condition.

```javascript
const words = [
  'spray',
  'limit',
  'elite',
  'exuberant',
  'destruction',
  'present',
];

const result = words.filter((word) => word.length > 6);

console.log(result);

// Expected output:
// Array ["exuberant", "destruction", "present"]
```

### \`\`[`map`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)\`\`

Transform each element in an array and return a new, transformed array. The original array remains unchanged.

```javascript
const arr = [1, 4, 9, 16];

// Pass a function to map that defines how to transform each element
// In this case, multiply each element by 2
const newArr = arr.map((x) => x * 2);

console.log(newArr);

// Expected output:
// Array [2, 8, 18, 32]
```

### **\`\`**[**`reduce`**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)**\`\`**

Transform an array into a single value according to logic in `reducer`.

```javascript
const arr = [1, 2, 3, 4];

const reducer = (accumulator, currentValue) => {
  console.log(`currentValue: ${currentValue}`);
  console.log(`accumulator: ${accumulator}`);
  console.log(`value returned at this iteration: ${accumulator + currentValue}`);
  console.log(' .................. ');
  return accumulator + currentValue;
};

// 1 + 2 + 3 + 4
console.log(arr.reduce(reducer));
// Expected output: 10

// 5 + 1 + 2 + 3 + 4
console.log(arr.reduce(reducer, 5));
// Expected output: 15
```

## Object Key Iteration

We can retrieve object keys as an array using [`Object.keys`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys) and iterate over that array using `forEach` or any other method.

```javascript
const obj = { 0: 'a', 1: 'b', 2: 'c' };
console.log(Object.keys(obj)); // console: ['0', '1', '2']
```

## Further Reading

1. General concept of MapReduce: [https://en.wikipedia.org/wiki/MapReduce](https://en.wikipedia.org/wiki/MapReduce)
2. MapReduce implementation by Hadoop: [https://www.tutorialspoint.com/hadoop/hadoop\_mapreduce.htm](https://www.tutorialspoint.com/hadoop/hadoop_mapreduce.htm)
3. MDN Arrays: [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Indexed\_collections\#array\_methods](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Indexed_collections#array_methods)
4. MDN Object.keys: [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global\_Objects/Object/keys](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys)

