# 0.1: ES6 Basics

## Introduction

[ES6](https://www.w3schools.com/js/js_es6.asp) is a modern, widely-used version of JavaScript. Every language matures over time as its maintainers release new versions. JS began with few features and has slowly added new ones.

In Coding Basics we mostly used ES5 syntax for simplicity, where ES5 is an older version of JS. In Coding Bootcamp we wish to expose students to the more advanced and modern features of JS seen with ES6. Many companies continue to use ES5 and older syntax depending on when their code was written. ES6 was released in 2015.

In frontend web development \(where JS is most commonly seen\), it's important to choose a JS version that is compatible across most browsers. This is because we do not control the version of JS that gets executed for our users, which depends on _**where**_ the code is running, typically a user's browser out of our control. We may not know beforehand if users will access our site from iPhones or [smart fridges](https://www.theguardian.com/technology/2019/aug/13/teen-smart-fridge-twitter-grounded), and on many devices users are unable to upgrade their browser.

We will not use the latest version of JS, because most devices and browsers would not support it. Instead we'll learn features of ES6, currently the most modern widely-supported version of JS.

## Variable Declaration with `let` and `const`

In Coding Basics we declared variables with `var`.

```javascript
var kilometers = 10;
var randomDiceRolls = [3, 2, 4, 5];
```

In ES6 we change variable declaration syntax to use `let` and `const` instead.

```javascript
let kilometers = 10;
const randomDiceRolls = [3, 2, 4, 1];
```

The following sections are guidelines on when to use `let` vs `const`.

### `let` for Primitive Values that Change

Use `let` if the value in our variable is a primitive data type \(e.g. number, string, or boolean\) and we expect the value to be reassigned.

```javascript
let kilometers = 10;
```

### `const` for Primitive Values that Don't Change

Use `const` if our variable's value will not change.

```javascript
const sidesOfDice = 6;
```

#### Reassigning a `const` Variable Throws an Error

```javascript
const pi = 3.14;
pi = 99999; // you will get an error with this line
```

### `const` for Arrays and Objects

We typically use `const` for arrays and objects, even if we plan to mutate the values inside them. This is because arrays and objects \(and other variable-size data types over than strings\) are known as ["mutable" data types](https://developer.mozilla.org/en-US/docs/Glossary/Mutable), whose variable values are actually "pointers" to "memory addresses" that store the variable-size data type. When we modify arrays and objects, the contents at their addresses may change, but the addresses and pointers themselves do not change, thus `const` is appropriate for var declarations.

```javascript
const diceRolls = [3, 4, 1, 6, 1];
```

#### Mutable vs Immutable Data Types

Arrays, objects, and data structures in general are "mutable" data types, meaning the variables that reference them actually store pointers to their memory addresses. This happens under the hood, which is why many beginner developers may not realise this. Primitive data types are "immutable" data types, thus variables that reference them store their actual values instead of pointers.

#### Altering values _inside_ an array works fine with `const`

```javascript
const diceRolls = [4, 2, 1, 4];
// the following affects values *inside* array, not address of array itself
diceRolls.push(5);
```

#### Reassigning the value of the variable that stored the array __will cause an error

```javascript
const diceRolls = [4, 2, 1, 4];
diceRolls = [5]; // this will cause an error
```

This is also related to why we cannot compare two arrays \(or objects\) directly with `===`. The 2 arrays being compared live at different addresses in memory, and by default it is the memory addresses being compared, not the values at those addresses.

```javascript
[1, 2, 3] === [1, 2, 3]; // this boolean statement will not be true
```

## Block Scope

Variables we define in "blocks" like an if statement will not be available anymore when we use `let` and `const`. `var` in ES5 uses "function scope", which makes variables declared with `var` accessible anywhere within a given function.

#### Old Way \(Function Scope\)

```javascript
var myFunc = function () {
  if (diceRoll === 6) {
    var win = true;
  }
  console.log(win); // this will be true
}
```

#### New Way \(Block Scope\)

```javascript
var myFunc = function () {
  if (diceRoll === 6) {
    let win = true;
  }
  // this will error. win variable doesn't
  // exist here, outside the if statement
  console.log(win);
}
```

Block scope refers to JavaScript **blocks**, which are lines of code within curly braces `{}`. These typically include if, \(and else if, etc.\), loops and switch statements. `let` and `const` variables declared in a block will not exist outside the block.

## Arrow Functions

We'll change the default way we define functions in JavaScript.

### Old Way

```javascript
var rollDice = function () {
  // random number stuff
};
```

### New Way

```javascript
const rollDice = () => {
  // random number stuff
};
```

There are a few subtle differences between these two syntaxes, but for all of our material we won't notice a difference. It's just shorter to write.

We also always use `const` when defining a function.

## Template Literals

### Old Way

```javascript
let output = "you rolled " + diceRoll + ". nice job!";
```

### New Way

```javascript
let output = `you rolled ${diceRoll}. nice job!`;
```

## Exercises

### `let` & `const`

Open up the dev tools console in Chrome. Follow the `const` examples above to get the error. What does the error message say?

Go back to an old piece of code you've written. Change a few of the variable declarations to `let` and `const`.

### Arrow Functions

Go back to an old piece of code you've written. Change the function definition to use arrow functions in one place that you can easily test.

You can change the definition of the `main` function in any old code from Coding Basics.

### Template Literals

Change one string output where you used plus sign and change it to a template literal.

## Additional Notes

The naming of the JavaScript versions are confusing- see more [here](https://flaviocopes.com/ecmascript/) if you want to know the details.

The versions of JavaScript are tied to individual features of that version. You can see a matrix of the version and it's support in each popular platform [here](https://kangax.github.io/compat-table/es6/) for ES6 and [here](https://kangax.github.io/compat-table/esnext/) for the latest version.

The engineering decision of which version of JavaScript to select for a given project is always a balance between the demographics of your user base and the cost of supporting an older version of the language.

For example, a cutting edge product like GitHub is more likely to have a user demographic that uses the latest version of JavaScript vs a government service website or broad consumer site like Lazada or Amazon.

