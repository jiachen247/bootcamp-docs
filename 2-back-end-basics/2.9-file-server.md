# 2.9: File Server

## File Server

```javascript
import { createServer } from 'http';
import { readFile } from 'fs';

const PORT = 3004;

const whenIncomingRequest = (request, response) => {
  console.log('request ', request.url);

  var filePath = '.' + request.url;

  readFile(filePath, (error, content) => {
    if (error) {
      if (error.code == 'ENOENT') {
        response.writeHead(404);
        response.end('Sorry, 404!');
      } else {
        response.writeHead(500);
        response.end('Sorryy!!!!');
      }
    } else {
      response.writeHead(200, { 'Content-Type': 'text/html' });
      response.end(content, 'utf-8');
    }
  });
};

createServer(whenIncomingRequest).listen(PORT)
```

