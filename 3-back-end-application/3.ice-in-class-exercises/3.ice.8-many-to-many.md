# 3.ICE.8: Many-to-Many

Create a command line app to record your workouts.

#### Workout Table \(`workouts`\)

| column name | data type | description | example |
| :--- | :--- | :--- | :--- |
| id | SERIAL PRIMARY KEY | ID | 1 |
| name | TEXT | Name of the owner | Kai |
| date | TEXT | Date of the workout | 3/3/2020 |

#### Exercise Table \(`exercises`\)

| column name | data type | description | example |
| :--- | :--- | :--- | :--- |
| id | SERIAL PRIMARY KEY | ID | 1 |
| name | TEXT | Name of the exercise | Pull up |

#### Join Table \(`exercise_workouts`\)

| column name | data type | description | example |
| :--- | :--- | :--- | :--- |
| id | SERIAL PRIMARY KEY | ID | 1 |
| exercise\_id | INTEGER | ID of the exercise | 1 |
| workout\_id | INTEGER | ID of the workout | 1 |

Create a set of INSERT queries for a set of exercises. Find a [list of exercises here](https://en.wikipedia.org/wiki/List_of_weight_training_exercises).

Create a command to output the exercises.

```text
node index.js workouts
```

Outputs:

```text
1. deadlift
2. squat
```

Add functionality so that when the user enters a new workout in the `workouts` table, they add also add the corresponding rows in the `exercise_workouts` table.

Create a command to output the exercises.

```text
node index.js add-workout 'leg tuesday' '3/2/2020' 1 2
```

```text
node index.js add-workout <WORKOUT_NAME> <DATE> [<WORKOUT_ID>,<WORKOUT_ID>,...]
```

When this command runs it will take each input after the 6th input \(after &lt;DATE&gt;\) and assume that it is an ID of an exercise. For each of these IDs it will create a row in the `exercise_workouts` table. 

### Get workouts with squat

```text
node index.js get-workouts-by-exercise 2
```

```text
node index.js get-workouts-by-exercise <EXERCISE_ID>
```

Make an `INNER JOIN` query to list out workouts with this exercise. Join on the `workouts` and `exercise_workouts` tables.

## Comfortable

### Get workouts with squat

```text
node index.js get-workouts-by-exercise squat
```

```text
node index.js get-workouts-by-exercise <EXERCISE_NAME>
```

Make an `INNER JOIN` query to list out workouts with this exercise. Join on the `workouts` and `exercise_workouts` tables.

### Save Workouts with Exercise Name

Do a nested query so that the user can save workout exercises by exercise name.

```text
node index.js add-workout 'leg tuesday' '3/2/2020' deadlift squat
```

```text
node index.js add-workout <WORKOUT_NAME> <DATE> [<WORKOUT_NAME>,<WORKOUT_NAME>,...]
```

## More Comfortable

Add another table `muscles` that gives body part categories to each exercise, [like in the table here.](https://en.wikipedia.org/wiki/List_of_weight_training_exercises#Overview) An exercise will be related to many muscles.

Create the table and write some INSERT queries for the table.

### Get Exercise by Muscle

Add a command that lists exercises by muscle.

```text
node index.js get-exercise quads
```

```text
node index.js get-exercise <MUSCLE_NAME>
```

### Get Workout by Muscle

```text
node index.js get-workout-by-muscle quads
```

```text
node index.js get-workout-by-muscle <MUSCLE_NAME>
```

