# 3.ICE.9: Multi-Foreign Key

## Introduction

Create a command line app that helps store information about an art museum.

The museum has sets of rooms that are segmented by collection. A painting belongs to a certain collection as defined by the curators. This collection could be defined by a school, and art movement, a year or a donor.

A painting is credited to a single artist.

## Base

### DB Setup

1. Create a new database called `museum`. 
2. Create 3 tables: `painters`, `collections` and `paintings`. Record the `CREATE TABLE` statements in a file `init_tables.sql` for debugging purposes. 

### Application Setup

1. Begin with the [base node repo.](https://github.com/rocketacademy/base-node-swe1)
2. Install the `pg` library with NPM.
3. Use the code from [3.5.2: PostgreSQL Node App](../3.5-sql-applications/3.5.2-postgresql-node-app.md#select) as a template for `index.js`. Reminder to update `pgConnectionConfigs` to reference the new DB name.

### Insert Seed Data

The museum is mounting two shows. One on The [New York School](https://www.wikiart.org/en/artists-by-painting-school/new-york-school) and another on [Cubism](https://www.wikiart.org/en/artists-by-art-movement/cubism). Use the links to populate the database with data by writing `INSERT` queries for each table.

### Get Artists in the Collection

#### Command Template

```text
node index.js get-artists <COLLECTION_NAME>
```

#### Sample Command

This command assumes you've named the Cubism show "The Cubism Show" in the database.

```
node index.js get-artists 'The Cubism Show'
```

```
1. Picasso
2. Max Weber
3. Georges Braque
```

### Create a Painting and Put It in a Collection

#### Command Template

```text
node index.js new-painting <PAINTING_NAME> <ARTIST_ID> <COLLECTION_ID>
```

#### Sample Command

This command assumes "Henri Matisse" is artist ID 2 and the collection you intend to place the painting in is ID 3.

```
node index.js new-painting 'Marguerite' 2 3
```

## Comfortable

### Create a New Collection and Move Paintings into It

The museum is mounting a new show. Put the paintings that the museum already has in a new collection.

#### Command Template

```text
node index.js new-collection <COLLECTION_NAME> <ARTIST_ID> <COLLECTION_ID>
```

#### Sample Command

This command assumes that paintings exists already, 'Girls of Avignon', ID 1 and 'Marguerite' ID 2.

```
node index.js new-collection 'Paris in 1907' 1 2
```

## More Comfortable

### Create a Painting and Put It in a Collection \(without IDs\)

#### Command Template

```text
node index.js new-painting <PAINTING_NAME> <ARTIST_NAME> <COLLECTION_NAME>
```

#### Sample Command

This command assumes "Henri Matisse" is artist ID 2 and the collection you intend to place the painting in is ID 3.

```
node index.js new-painting 'Yellow, Cherry, Orange' 'Mark Rothko' 'The New York School'
```

