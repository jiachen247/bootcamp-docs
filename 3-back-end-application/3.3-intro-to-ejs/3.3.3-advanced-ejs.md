# 3.3.3: Advanced EJS

In EJS we can break up repetitive code by splitting it out into other files.

This example below renders a file at line 3. The second argument to includes is the data that you want this EJS file to have access to. Nothing will be available if you do not pass data in.

```markup
<ul>
  <% users.forEach(function(user) { %>
    <%- include('user/details', {user: user}); %>
  <% }); %>
</ul>
```

### Headers and Footers

A common pattern is to get rid of all boilerplate code inside of individual EJS files.

#### recipe.ejs

```html
<%- include('header', {title: `recipe - ${recipe.title}`}); -%>
<h1>Recipe: <%= recipe.title %></h1>
<p>Instructions</p>
<%- include('footer'); -%>
```

#### header.ejs

Notice that this file only has the opening `body` tag. The closing `body` tag would be in the `footer.ejs` file.

Also notice that we are passing in the page title \(the text that appears in the tab\) into the function in `recipe.ejs`.

```markup
<html>
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />

    <title><%= title %></title>
  </head>
  <body>
```
